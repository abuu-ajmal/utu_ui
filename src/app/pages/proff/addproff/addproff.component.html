<div class="relative bg-white rounded-2xl shadow-xl p-6 mx-auto w-[90%] md:w-[800px] mt-6">
  <!-- Decorative Corners -->
  <div class="absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-700 rounded-tl-2xl"></div>
  <div class="absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-700 rounded-tr-2xl"></div>
  <div class="absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-700 rounded-bl-2xl"></div>
  <div class="absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-700 rounded-br-2xl"></div>

  <!-- Title -->
  <h2 class="text-center font-bold text-white text-xl py-4 mb-8 rounded-lg"
    style="background-color: #1E3A8A;">Add Professional</h2>

  <!-- Stepper -->
  <mat-horizontal-stepper linear #stepper>
    <!-- STEP 1 -->
    <mat-step [stepControl]="basicForm">
      <form [formGroup]="basicForm">
        <ng-template matStepLabel>Basic Info</ng-template>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-2">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Title</mat-label>
            <mat-select formControlName="professional_title_id">
              <mat-option *ngFor="let t of professionalTitles" [value]="t.professional_title_id">{{ t.title }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Specialization</mat-label>
            <mat-select formControlName="specialization_id">
              <mat-option *ngFor="let s of specializations" [value]="s.specialization_id">{{ s.name }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Education Level</mat-label>
            <mat-select formControlName="education_level_id">
              <mat-option *ngFor="let e of educationLevels" [value]="e.id">{{ e.level }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="flex justify-end mt-4">
          <button mat-flat-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>

    <!-- STEP 2 -->
    <mat-step [stepControl]="documentForm">
      <form [formGroup]="documentForm">
        <ng-template matStepLabel>Documents</ng-template>

        <div class="grid grid-cols-2 gap-4 mt-2">
          <div>
            <label class="text-xs font-medium">Education Certificate</label>
            <input type="file" (change)="onFileChange($event, 'education_level_certificate')" accept=".pdf,.jpg,.png"
              class="text-xs border rounded w-full p-1" />
            <p class="text-[10px] text-gray-500 mt-1">PDF, JPG, or PNG</p>
          </div>

          <div>
            <label class="text-xs font-medium">CV</label>
            <input type="file" (change)="onFileChange($event, 'cv')" accept=".pdf,.doc,.docx"
              class="text-xs border rounded w-full p-1" />
            <p class="text-[10px] text-gray-500 mt-1">PDF or Word</p>
          </div>

          <div>
            <label class="text-xs font-medium">License</label>
            <input type="file" (change)="onFileChange($event, 'license')" accept=".pdf,.jpg,.png"
              class="text-xs border rounded w-full p-1" />
            <p class="text-[10px] text-gray-500 mt-1">Practice license</p>
          </div>

          <div>
            <label class="text-xs font-medium">Work Permit</label>
            <input type="file" (change)="onFileChange($event, 'work_permit')" accept=".pdf,.jpg,.png"
              class="text-xs border rounded w-full p-1" />
            <p class="text-[10px] text-gray-500 mt-1">Optional document</p>
          </div>
        </div>

        <div class="flex justify-between mt-4">
          <button mat-stroked-button color="warn" matStepperPrevious>Back</button>
          <button mat-flat-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>

    <!-- STEP 3 -->
    <mat-step [stepControl]="photoForm">
      <form [formGroup]="photoForm" (ngSubmit)="onSubmit()">
        <ng-template matStepLabel>Photo</ng-template>

        <div class="flex flex-col items-center gap-2 mt-3">
          <label class="text-xs font-medium">Profile Photo</label>
          <input type="file" (change)="onFileChange($event, 'photo')" accept="image/png,image/jpeg"
            class="text-xs border rounded p-1 w-1/2" />
          <p class="text-[10px] text-gray-500 text-center">
            Upload PNG or JPG (passport-size).
          </p>

          <div *ngIf="selectedPhotoPreview" class="mt-2 flex justify-center">
            <img [src]="selectedPhotoPreview" alt="Preview"
              class="w-20 h-20 rounded-full object-cover border border-blue-400" />
          </div>
        </div>

        <div class="flex justify-between mt-4">
          <button mat-stroked-button color="warn" matStepperPrevious>Back</button>
          <button mat-flat-button color="primary" type="submit">Save</button>
        </div>
      </form>
    </mat-step>
  </mat-horizontal-stepper>
</div>
