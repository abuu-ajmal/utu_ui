<!-- ðŸŒ Main Page Container -->
<div class="p-10 space-y-8" *ngIf="permission.parmissionMatched(['View Specialization'])">
  <div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-0 flex flex-col">
    <!-- ðŸ©º Main Professional Titles Section -->
    <main class="flex-1 flex justify-center items-start mt-10">
      <div class="w-full max-w-7xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-10">
        <!-- ðŸ”¤ Title and Language Switch -->
        <div class="flex flex-col sm:flex-row justify-between items-center mb-6">
          <h2 class="text-3xl font-extrabold text-blue-700 dark:text-blue-400 mb-3 sm:mb-0">
            {{ translations[currentLanguage].title }}
          </h2>

          <div class="flex space-x-2">
            <button
              class="px-4 py-1.5 text-sm font-semibold rounded-full border transition-all duration-200"
              [class.bg-blue-600]="currentLanguage === 'en'"
              [class.text-white]="currentLanguage === 'en'"
              [class.text-blue-600]="currentLanguage !== 'en'"
              [class.border-blue-600]="currentLanguage !== 'en'"
              (click)="switchLanguage('en')"
            >
              English
            </button>
            <button
              class="px-4 py-1.5 text-sm font-semibold rounded-full border transition-all duration-200"
              [class.bg-green-600]="currentLanguage === 'sw'"
              [class.text-white]="currentLanguage === 'sw'"
              [class.text-green-600]="currentLanguage !== 'sw'"
              [class.border-green-600]="currentLanguage !== 'sw'"
              (click)="switchLanguage('sw')"
            >
              Kiswahili
            </button>
          </div>
        </div>

        <!-- ðŸ” Search and Add Button -->
        <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-3">
          <input
            type="text"
            matInput
            (keyup)="applyFilter($event)"
            placeholder="{{ translations[currentLanguage].searchPlaceholder }}"
            class="border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 w-full sm:w-96 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />

          <button
            mat-raised-button
            color="primary"
            (click)="addSpecialiazation()"
            class="flex items-center gap-2 !bg-blue-700 hover:!bg-blue-800 text-white font-semibold px-6 py-3 rounded-lg shadow-md"
          >
            <mat-icon>add</mat-icon>
            {{ translations[currentLanguage].addProfessional }}
          </button>
        </div>

        <!-- ðŸ“‹ Professional Titles Table -->
        <div class="overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm">
          <table mat-table [dataSource]="dataSource" matSort class="min-w-full text-sm">

            <!-- ID Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                  class="px-4 py-3 font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700">
                {{ translations[currentLanguage].columnId }}
              </th>
              <td mat-cell *matCellDef="let element; let i = index" class="px-4 py-3 text-gray-700 dark:text-gray-200">
                {{ i + 1 }}
              </td>
            </ng-container>

                <!-- Specialization Column -->
            <ng-container matColumnDef="specialization">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                  class="px-4 py-3 font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700">
                {{ translations[currentLanguage].columnSpecialization }}
              </th>
              <td mat-cell *matCellDef="let element" class="px-4 py-3 text-gray-700 dark:text-gray-200">
                {{ element.name[currentLanguage] }}
              </td>
            </ng-container>

            <!-- Professional Title Column -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                  class="px-4 py-3 font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700">
                {{ translations[currentLanguage].columnTitle }}
              </th>
              <td mat-cell *matCellDef="let element" class="px-4 py-3 text-gray-700 dark:text-gray-200">
                {{ element.title.title[currentLanguage] }}
              </td>
            </ng-container>



            <!-- Action Column -->
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef
                  class="px-4 py-3 font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700">
                {{ translations[currentLanguage].columnAction }}
              </th>
              <td mat-cell *matCellDef="let element" class="px-4 py-3">
                <button mat-icon-button color="accent" (click)="updateSpecialization(element)"
                        class="hover:bg-blue-50 dark:hover:bg-gray-700 rounded-full p-1">
                  <mat-icon>edit</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </div>

        <!-- ðŸ§­ Paginator -->
        <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons class="mt-6"></mat-paginator>

        <!-- ðŸš« No Data Message -->
        <div *ngIf="dataSource.data.length === 0" class="text-center text-gray-500 dark:text-gray-400 mt-8 text-sm">
          {{ translations[currentLanguage].noData }}
        </div>
      </div>
    </main>
  </div>
</div>

